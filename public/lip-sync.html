<!DOCTYPE html>
<html lang="en">
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <head>
        <!-- Meta tags  -->
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <title>Lip Sync AI</title>
        <link rel="icon" type="image/png" href="images/favicon.png" />

        <!-- CSS Assets -->
        <link rel="stylesheet" href="css/app.css" />

        <!-- Javascript Assets -->
        <script src="js/app.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com/" />
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&amp;display=swap"
            rel="stylesheet"
        />
        <script>
            /**
             * THIS SCRIPT REQUIRED FOR PREVENT FLICKERING IN SOME BROWSERS
             */
            localStorage.getItem('_x_darkMode_on') === 'true' &&
                document.documentElement.classList.add('dark');
        </script>
    </head>
    <!-- Start of LiveChat (www.livechat.com) code -->
    <script>
        window.__lc = window.__lc || {};
        window.__lc.license = 18422055;
        window.__lc.integration_name = 'manual_channels';
        window.__lc.product_name = 'livechat';
        (function (n, t, c) {
            function i(n) {
                return e._h ? e._h.apply(null, n) : e._q.push(n);
            }
            var e = {
                _q: [],
                _h: null,
                _v: '2.0',
                on: function () {
                    i(['on', c.call(arguments)]);
                },
                once: function () {
                    i(['once', c.call(arguments)]);
                },
                off: function () {
                    i(['off', c.call(arguments)]);
                },
                get: function () {
                    if (!e._h)
                        throw new Error(
                            "[LiveChatWidget] You can't use getters before load."
                        );
                    return i(['get', c.call(arguments)]);
                },
                call: function () {
                    i(['call', c.call(arguments)]);
                },
                init: function () {
                    var n = t.createElement('script');
                    (n.async = !0),
                        (n.type = 'text/javascript'),
                        (n.src = 'https://cdn.livechatinc.com/tracking.js'),
                        t.head.appendChild(n);
                },
            };
            !n.__lc.asyncInit && e.init(),
                (n.LiveChatWidget = n.LiveChatWidget || e);
        })(window, document, [].slice);
    </script>
    <noscript
        ><a href="https://www.livechat.com/chat-with/18422055/" rel="nofollow"
            >Chat with us</a
        >, powered by
        <a
            href="https://www.livechat.com/?welcome"
            rel="noopener nofollow"
            target="_blank"
            >LiveChat</a
        ></noscript
    >
    <!-- End of LiveChat code -->

    <body
        x-data
        class="is-header-blur"
        x-bind="$store.global.documentBody"
        oncontextmenu="return false;"
    >
        <!-- App preloader-->
        <div
            class="app-preloader fixed z-50 grid h-full w-full place-content-center bg-slate-50 dark:bg-navy-900"
        >
            <div
                class="app-preloader-inner relative inline-block size-48"
            ></div>
        </div>

        <!-- Page Wrapper -->
        <div
            id="root"
            class="min-h-100vh flex grow bg-slate-50 dark:bg-navy-900"
            x-cloak
        >
            <!-- Sidebar -->
            <div class="sidebar print:hidden">
                <!-- Main Sidebar -->
                <div class="main-sidebar">
                    <div
                        class="flex h-full w-full flex-col items-center border-r border-slate-150 bg-white dark:border-navy-700 dark:bg-navy-800"
                    >
                        <!-- Application Logo -->
                        <div class="flex pt-4">
                            <a href="index.html">
                                <img
                                    class="size-11 transition-transform duration-500 ease-in-out hover:rotate-[360deg]"
                                    src="images/logo.png"
                                    alt="logo"
                                />
                            </a>
                        </div>

                        <!-- Main Sections Links -->
                        <div
                            class="is-scrollbar-hidden flex grow flex-col space-y-4 overflow-y-auto pt-6"
                        >
                            <!-- Dashobards -->
                            <a
                                href="dashboard.html"
                                class="flex size-11 items-center justify-center rounded-lg outline-none transition-colors duration-200 hover:bg-primary/20 focus:bg-primary/20 active:bg-primary/25 dark:hover:bg-navy-300/20 dark:focus:bg-navy-300/20 dark:active:bg-navy-300/25"
                                x-tooltip.placement.right="'Home'"
                            >
                                <svg
                                    class="h-7 w-7"
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        fill="currentColor"
                                        fill-opacity=".3"
                                        d="M5 14.059c0-1.01 0-1.514.222-1.945.221-.43.632-.724 1.453-1.31l4.163-2.974c.56-.4.842-.601 1.162-.601.32 0 .601.2 1.162.601l4.163 2.974c.821.586 1.232.88 1.453 1.31.222.43.222.935.222 1.945V19c0 .943 0 1.414-.293 1.707C18.414 21 17.943 21 17 21H7c-.943 0-1.414 0-1.707-.293C5 20.414 5 19.943 5 19v-4.94Z"
                                    />
                                    <path
                                        fill="currentColor"
                                        d="M3 12.387c0 .267 0 .4.084.441.084.041.19-.04.4-.204l7.288-5.669c.59-.459.885-.688 1.228-.688.343 0 .638.23 1.228.688l7.288 5.669c.21.163.316.245.4.204.084-.04.084-.174.084-.441v-.409c0-.48 0-.72-.102-.928-.101-.208-.291-.355-.67-.65l-7-5.445c-.59-.459-.885-.688-1.228-.688-.343 0-.638.23-1.228.688l-7 5.445c-.379.295-.569.442-.67.65-.102.208-.102.448-.102.928v.409Z"
                                    />
                                    <path
                                        fill="currentColor"
                                        d="M11.5 15.5h1A1.5 1.5 0 0 1 14 17v3.5h-4V17a1.5 1.5 0 0 1 1.5-1.5Z"
                                    />
                                    <path
                                        fill="currentColor"
                                        d="M17.5 5h-1a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5Z"
                                    />
                                </svg>
                            </a>

                            <!-- Apps -->
                            <a
                                href="affiliate-program.html"
                                class="flex size-11 items-center justify-center rounded-lg outline-none transition-colors duration-200 hover:bg-primary/20 focus:bg-primary/20 active:bg-primary/25 dark:hover:bg-navy-300/20 dark:focus:bg-navy-300/20 dark:active:bg-navy-300/25"
                                x-tooltip.placement.right="'Affiliate'"
                            >
                                <svg
                                    class="h-7 w-7"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M5 8H19V16C19 17.8856 19 18.8284 18.4142 19.4142C17.8284 20 16.8856 20 15 20H9C7.11438 20 6.17157 20 5.58579 19.4142C5 18.8284 5 17.8856 5 16V8Z"
                                        fill="currentColor"
                                        fill-opacity="0.3"
                                    />
                                    <path
                                        d="M12 8L11.7608 5.84709C11.6123 4.51089 10.4672 3.5 9.12282 3.5V3.5C7.68381 3.5 6.5 4.66655 6.5 6.10555V6.10555C6.5 6.97673 6.93539 7.79026 7.66025 8.2735L9.5 9.5"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                    />
                                    <path
                                        d="M12 8L12.2392 5.84709C12.3877 4.51089 13.5328 3.5 14.8772 3.5V3.5C16.3162 3.5 17.5 4.66655 17.5 6.10555V6.10555C17.5 6.97673 17.0646 7.79026 16.3397 8.2735L14.5 9.5"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                    />
                                    <rect
                                        x="4"
                                        y="8"
                                        width="16"
                                        height="3"
                                        rx="1"
                                        fill="currentColor"
                                    />
                                    <path
                                        d="M12 11V15"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                    />
                                </svg>
                            </a>

                            <!-- how to use -->
                            <a
                                href="#"
                                class="flex size-11 items-center justify-center rounded-lg bg-primary/10 text-primary outline-none transition-colors duration-200 hover:bg-primary/20 focus:bg-primary/20 active:bg-primary/25 dark:bg-navy-600 dark:text-accent-light dark:hover:bg-navy-450 dark:focus:bg-navy-450 dark:active:bg-navy-450/90"
                                x-tooltip.placement.right="'How to use'"
                            >
                                <svg
                                    class="h-7 w-7"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M9.85714 3H4.14286C3.51167 3 3 3.51167 3 4.14286V9.85714C3 10.4883 3.51167 11 4.14286 11H9.85714C10.4883 11 11 10.4883 11 9.85714V4.14286C11 3.51167 10.4883 3 9.85714 3Z"
                                        fill="currentColor"
                                    />
                                    <path
                                        d="M9.85714 12.8999H4.14286C3.51167 12.8999 3 13.4116 3 14.0428V19.757C3 20.3882 3.51167 20.8999 4.14286 20.8999H9.85714C10.4883 20.8999 11 20.3882 11 19.757V14.0428C11 13.4116 10.4883 12.8999 9.85714 12.8999Z"
                                        fill="currentColor"
                                        fill-opacity="0.3"
                                    />
                                    <path
                                        d="M19.757 3H14.0428C13.4116 3 12.8999 3.51167 12.8999 4.14286V9.85714C12.8999 10.4883 13.4116 11 14.0428 11H19.757C20.3882 11 20.8999 10.4883 20.8999 9.85714V4.14286C20.8999 3.51167 20.3882 3 19.757 3Z"
                                        fill="currentColor"
                                        fill-opacity="0.3"
                                    />
                                    <path
                                        d="M19.757 12.8999H14.0428C13.4116 12.8999 12.8999 13.4116 12.8999 14.0428V19.757C12.8999 20.3882 13.4116 20.8999 14.0428 20.8999H19.757C20.3882 20.8999 20.8999 20.3882 20.8999 19.757V14.0428C20.8999 13.4116 20.3882 12.8999 19.757 12.8999Z"
                                        fill="currentColor"
                                        fill-opacity="0.3"
                                    />
                                </svg>
                            </a>
                        </div>

                        <!-- Bottom Links -->
                        <div class="flex flex-col items-center space-y-3 py-3">
                            <!-- Profile -->
                            <div
                                x-data="usePopper({placement:'right-end',offset:12})"
                                @click.outside="isShowPopper && (isShowPopper = false)"
                                class="flex"
                            >
                                <button
                                    @click="isShowPopper = !isShowPopper"
                                    x-ref="popperRef"
                                    class="avatar size-12"
                                >
                                    <img
                                        class="rounded-full"
                                        src="images/avatar/default-profile.png"
                                        alt="avatar"
                                        id="profile-picture"
                                    />
                                    <span
                                        class="absolute right-0 size-3.5 rounded-full border-2 border-white bg-success dark:border-navy-700"
                                    ></span>
                                </button>
                                <div
                                    :class="isShowPopper && 'show'"
                                    class="popper-root fixed"
                                    x-ref="popperRoot"
                                >
                                    <div
                                        class="popper-box w-64 rounded-lg border border-slate-150 bg-white shadow-soft dark:border-navy-600 dark:bg-navy-700"
                                    >
                                        <div
                                            class="flex items-center space-x-3 py-2 px-4"
                                        >
                                            <div class="flex items-center">
                                                <img
                                                    id="profile-picture"
                                                    src="images/avatar/default-profile.png"
                                                    alt="Profile Picture"
                                                    class="w-8 h-8 rounded-full"
                                                />
                                            </div>
                                            <div>
                                                <a
                                                    id="user-name"
                                                    href="#"
                                                    class="text-base font-medium text-slate-700 hover:text-primary focus:text-primary dark:text-navy-100 dark:hover:text-accent-light dark:focus:text-accent-light"
                                                    >User Name</a
                                                >
                                                <p
                                                    id="subscription-plan"
                                                    class="text-xs text-slate-400 dark:text-navy-300"
                                                >
                                                    Free Plan
                                                </p>
                                            </div>
                                        </div>
                                        <div class="flex flex-col pt-2 pb-5">
                                            <a
                                                href="affiliate-program.html"
                                                class="group flex items-center space-x-3 py-2 px-4 tracking-wide outline-none transition-all hover:bg-slate-100 focus:bg-slate-100 dark:hover:bg-navy-600 dark:focus:bg-navy-600"
                                            >
                                                <div
                                                    class="flex size-8 items-center justify-center rounded-lg bg-warning text-white"
                                                >
                                                    <svg
                                                        class="h-7 w-7"
                                                        viewBox="0 0 24 24"
                                                        fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                    >
                                                        <path
                                                            d="M5 8H19V16C19 17.8856 19 18.8284 18.4142 19.4142C17.8284 20 16.8856 20 15 20H9C7.11438 20 6.17157 20 5.58579 19.4142C5 18.8284 5 17.8856 5 16V8Z"
                                                            fill="currentColor"
                                                        />
                                                        <path
                                                            d="M12 8L11.7608 5.84709C11.6123 4.51089 10.4672 3.5 9.12282 3.5V3.5C7.68381 3.5 6.5 4.66655 6.5 6.10555V6.10555C6.5 6.97673 6.93539 7.79026 7.66025 8.2735L9.5 9.5"
                                                            stroke="currentColor"
                                                            stroke-linecap="round"
                                                        />
                                                        <path
                                                            d="M12 8L12.2392 5.84709C12.3877 4.51089 13.5328 3.5 14.8772 3.5V3.5C16.3162 3.5 17.5 4.66655 17.5 6.10555V6.10555C17.5 6.97673 17.0646 7.79026 16.3397 8.2735L14.5 9.5"
                                                            stroke="currentColor"
                                                            stroke-linecap="round"
                                                        />
                                                        <rect
                                                            x="4"
                                                            y="8"
                                                            width="16"
                                                            height="3"
                                                            rx="1"
                                                            fill="currentColor"
                                                        />
                                                        <path
                                                            d="M12 11V15"
                                                            stroke="currentColor"
                                                            stroke-linecap="round"
                                                        />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <h2
                                                        class="font-medium text-slate-700 transition-colors group-hover:text-primary group-focus:text-primary dark:text-navy-100 dark:group-hover:text-accent-light dark:group-focus:text-accent-light"
                                                    >
                                                        Affiliate
                                                    </h2>
                                                    <div
                                                        class="text-xs text-slate-400 line-clamp-1 dark:text-navy-300"
                                                    >
                                                        Your affiliate setting
                                                    </div>
                                                </div>
                                            </a>
                                            <a
                                                href="my-account.html"
                                                class="group flex items-center space-x-3 py-2 px-4 tracking-wide outline-none transition-all hover:bg-slate-100 focus:bg-slate-100 dark:hover:bg-navy-600 dark:focus:bg-navy-600"
                                            >
                                                <div
                                                    class="flex size-8 items-center justify-center rounded-lg bg-warning text-white"
                                                >
                                                    <svg
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="size-4.5"
                                                        fill="none"
                                                        viewBox="0 0 24 24"
                                                        stroke="currentColor"
                                                        stroke-width="2"
                                                    >
                                                        <path
                                                            stroke-linecap="round"
                                                            stroke-linejoin="round"
                                                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                                                        />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <h2
                                                        class="font-medium text-slate-700 transition-colors group-hover:text-primary group-focus:text-primary dark:text-navy-100 dark:group-hover:text-accent-light dark:group-focus:text-accent-light"
                                                    >
                                                        Profile
                                                    </h2>
                                                    <div
                                                        class="text-xs text-slate-400 line-clamp-1 dark:text-navy-300"
                                                    >
                                                        Your profile setting
                                                    </div>
                                                </div>
                                            </a>
                                            <a
                                                href="manage-subscription.html"
                                                class="group flex items-center space-x-3 py-2 px-4 tracking-wide outline-none transition-all hover:bg-slate-100 focus:bg-slate-100 dark:hover:bg-navy-600 dark:focus:bg-navy-600"
                                            >
                                                <div
                                                    class="flex size-8 items-center justify-center rounded-lg bg-success text-white"
                                                >
                                                    <svg
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="size-4.5"
                                                        fill="none"
                                                        viewBox="0 0 24 24"
                                                        stroke="currentColor"
                                                        stroke-width="2"
                                                    >
                                                        <path
                                                            stroke-linecap="round"
                                                            stroke-linejoin="round"
                                                            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                                                        />
                                                        <path
                                                            stroke-linecap="round"
                                                            stroke-linejoin="round"
                                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                                                        />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <h2
                                                        class="font-medium text-slate-700 transition-colors group-hover:text-primary group-focus:text-primary dark:text-navy-100 dark:group-hover:text-accent-light dark:group-focus:text-accent-light"
                                                    >
                                                        Subscription
                                                    </h2>
                                                    <div
                                                        class="text-xs text-slate-400 line-clamp-1 dark:text-navy-300"
                                                    >
                                                        Manage subscription
                                                    </div>
                                                </div>
                                            </a>
                                            <div class="mt-3 px-4">
                                                <button
                                                    id="logout-button"
                                                    class="btn h-9 w-full space-x-2 bg-primary text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90"
                                                >
                                                    <!-- Logout icon SVG -->
                                                    <span>Logout</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Sidebar Panel -->
                <div class="sidebar-panel">
                    <div
                        class="flex h-full grow flex-col bg-white pl-[var(--main-sidebar-width)] dark:bg-navy-750"
                    >
                        <!-- Sidebar Panel Header -->
                        <div
                            class="flex h-18 w-full items-center justify-between pl-4 pr-1"
                        >
                            <p
                                class="text-base tracking-wider text-slate-800 dark:text-navy-100"
                            >
                                Navigation
                            </p>
                            <button
                                @click="$store.global.isSidebarExpanded = false"
                                class="btn h-7 w-7 rounded-full p-0 text-primary hover:bg-slate-300/20 focus:bg-slate-300/20 active:bg-slate-300/25 dark:text-accent-light/80 dark:hover:bg-navy-300/20 dark:focus:bg-navy-300/20 dark:active:bg-navy-300/25 xl:hidden"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="size-6"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M15 19l-7-7 7-7"
                                    />
                                </svg>
                            </button>
                        </div>

                        <!-- Sidebar Panel Body -->
                        <div
                            x-data="{expandedItem:'menu-item-3'}"
                            class="h-[calc(100%-4.5rem)] overflow-x-hidden pb-6"
                            x-init="$el._x_simplebar = new SimpleBar($el);"
                        >
                            <ul class="flex flex-1 flex-col px-4 font-inter">
                                <li x-data="accordionItem('menu-item-1')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        href="dashboard.html"
                                    >
                                        <span>Dashboard</span></a
                                    >
                                </li>
                                <li x-data="accordionItem('menu-item-1')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        href="my-account.html"
                                    >
                                        <span>Profile setting</span></a
                                    >
                                </li>
                                <li x-data="accordionItem('menu-item-3')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        href="javascript:void(0);"
                                    >
                                        <span>Project</span>
                                        <svg
                                            :class="expanded && 'rotate-90'"
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="size-4 text-slate-400 transition-transform ease-in-out"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M9 5l7 7-7 7"
                                            /></svg
                                    ></a>
                                    <ul x-collapse x-show="expanded">
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="my-avatar.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>My Avatars</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="video-editor.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>Video editor</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="face-swap.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>Swap Face AI</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="lip-sync.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>Lip Sync Ai</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="video-restyle.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>Video Restyle</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="video-voicing.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>Video Voicing</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a
                                                x-data="navLink"
                                                href="3d-video.html"
                                                :class="isActive ? 'font-medium text-primary dark:text-accent-light' : 'text-slate-600 hover:text-slate-900 dark:text-navy-200 dark:hover:text-navy-50'"
                                                class="flex items-center justify-between p-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out hover:pl-4"
                                            >
                                                <div
                                                    class="flex items-center space-x-2"
                                                >
                                                    <div
                                                        class="size-1.5 rounded-full border border-current opacity-40"
                                                    ></div>
                                                    <span>3D Modeling</span>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <!-- <li x-data="accordionItem('menu-item-4')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        x-data="navLink"
                                        href="payment-methods.html"
                                    >
                                        <span>Payment method</span></a
                                    >
                                </li> -->
                                <li x-data="accordionItem('menu-item-5')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        href="plans-billing.html"
                                    >
                                        <span>Plans & Pricing</span></a
                                    >
                                </li>
                                <li x-data="accordionItem('menu-item-5')">
                                    <a
                                        :class="expanded ? 'text-slate-800 font-semibold dark:text-navy-50' : 'text-slate-600 dark:text-navy-200  hover:text-slate-800  dark:hover:text-navy-50'"
                                        @click="expanded = !expanded"
                                        class="flex items-center justify-between py-2 text-xs+ tracking-wide outline-none transition-[color,padding-left] duration-300 ease-in-out"
                                        href="manage-subscription.html"
                                    >
                                        <span>Manage subscription</span></a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- App Header Wrapper-->
            <nav
                class="header before:bg-white dark:before:bg-navy-750 print:hidden"
            >
                <!-- App Header  -->
                <div
                    class="header-container relative flex w-full bg-white dark:bg-navy-700 print:hidden"
                >
                    <!-- Header Items -->
                    <div class="flex w-full items-center justify-between">
                        <!-- Left: Sidebar Toggle Button -->
                        <div class="h-7 w-7">
                            <button
                                class="menu-toggle ml-0.5 flex h-7 w-7 flex-col justify-center space-y-1.5 text-primary outline-none focus:outline-none dark:text-accent-light/80"
                                :class="$store.global.isSidebarExpanded && 'active'"
                                @click="$store.global.isSidebarExpanded = !$store.global.isSidebarExpanded"
                            >
                                <span></span> <span></span> <span></span>
                            </button>
                        </div>

                        <!-- Right: Header buttons -->
                        <div class="-mr-1.5 flex items-center space-x-2"></div>
                    </div>
                </div>
            </nav>

            <!-- Main Content Wrapper -->
            <main class="main-content w-full px-[var(--margin-x)] pb-6">
                <div class="py-5 text-center lg:py-6">
                    <h3
                        style="font-size: 40px"
                        class="mt-1 text-xl font-semibold text-slate-600 dark:text-navy-100"
                    >
                        Lip Sync AI
                    </h3>
                </div>
                <div class="flex justify-center p-5">
                    <img src="images/avatar/222.png" alt="image" width="350" />
                </div>
                <form id="videoForm">
                    <div
                        class="grid max-w-6xl grid-cols-1 gap-12 sm:grid-cols-1 sm:gap-5 lg:gap-6"
                    >
                        <div class="card">
                            <div class="card px-6 pb-6 sm:px-5">
                                <div
                                    class="my-3 flex h-8 items-center justify-between"
                                ></div>

                                <!-- Upload Video Clip Section -->
                                <h4
                                    class="text-lg text-center font-semibold text-slate-70 dark:text-navy-100"
                                >
                                    Upload Video Clip to Edit
                                </h4>
                                <small class="text-warning text-center"
                                    >You can enter multiple videos</small
                                >
                                <div class="max-w-l">
                                    <div class="mt-5">
                                        <div class="filepond fp-bordered">
                                            <input
                                                id="videoFiles"
                                                type="file"
                                                name="videoFiles"
                                                accept="video/*"
                                                x-init="$el._x_filepond = FilePond.create($el)"
                                                multiple
                                            />
                                        </div>
                                    </div>
                                </div>

                                <!-- Add Video Links Section -->
                                <div class="mt-5">
                                    <label class="block">
                                        <p class="text-warning">
                                            Add Video Links
                                        </p>
                                        <div id="videoLinksContainer">
                                            <input
                                                id=""
                                                class="form-input w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent"
                                                placeholder="Add video link from internet"
                                                name="videoLink[]"
                                                type="text"
                                            />
                                            <!-- Additional video link fields will be added here -->
                                        </div>
                                        <button
                                            type="button"
                                            onclick="addVideoLinkField()"
                                            class="mt-2 text-primary hover:underline"
                                        >
                                            Add More Link
                                        </button>
                                    </label>
                                </div>

                                <!-- Add Picture Section -->
                                <h4
                                    class="text-lg text-center font-semibold text-slate-70 dark:text-navy-100"
                                >
                                    Add Picture
                                </h4>
                                <div class="max-w-l">
                                    <div class="mt-5">
                                        <div class="filepond fp-bordered">
                                            <input
                                                type="file"
                                                name="pictureFiles"
                                                accept="image/*"
                                                x-init="$el._x_filepond = FilePond.create($el)"
                                                id="pictureFiles"
                                                multiple
                                            />
                                        </div>
                                    </div>
                                </div>

                                <!-- Add Audio File Section -->
                                <h4
                                    class="text-lg text-center font-semibold text-slate-700 dark:text-navy-100"
                                >
                                    Add Audio File
                                </h4>
                                <div class="flex justify-center p-5">
                                    <img
                                        src="images/avatar/123.png"
                                        alt="image"
                                        width="50"
                                    />
                                </div>
                                <p class="pt-3 text-center">
                                    Select audio file to add to video
                                </p>
                                <label
                                    class="mt-5 font-medium text-slate-800 hover:bg-slate-200 focus:bg-slate-200 active:bg-slate-200/80 dark:bg-navy-500 dark:text-navy-50 dark:hover:bg-navy-450 dark:focus:bg-navy-450 dark:active:bg-navy-450/90"
                                >
                                    <div class="flex items-center space-x-2">
                                        <div class="filepond fp-bordered">
                                            <input
                                                id="audioFiles"
                                                type="file"
                                                name="audioFiles"
                                                accept="audio/*"
                                                x-init="$el._x_filepond = FilePond.create($el)"
                                                multiple
                                            />
                                        </div>
                                    </div>
                                </label>
                                <br />
                                <!-- Select Video Avatar Section -->
                                <h4
                                    class="text-lg text-center font-semibold text-slate-700 dark:text-navy-100"
                                >
                                    Select Video Avatar
                                </h4>
                                <small class="pt-3 text-center text-warning"
                                    >Select a video from the list of
                                    Avatars</small
                                >

                                <div
                                    x-data="{
                                    avatars: [],
                                    selectedAvatarLocations: [],
                                    fetchData() {
                                        fetch('/api/avatars')
                                            .then(response => response.json())
                                            .then(data => {
                                                this.avatars = data;
                                            })
                                            .catch(error => console.error('Error fetching data:', error));
                                    },
                                    openModal(locations) {
                                        this.selectedAvatarLocations = locations;
                                        this.showModal = true;
                                    },
                                    showModal: false,
                                    closeModal() {
                                        this.showModal = false;
                                    }
                                }"
                                    x-init="fetchData"
                                    class="grid grid-cols-1 gap-2 sm:grid-cols-2 sm:gap-5 lg:grid-cols-4 lg:gap-6"
                                >
                                    <!-- Fetch and Display Avatars -->
                                    <template
                                        x-for="avatar in avatars"
                                        :key="avatar._id"
                                    >
                                        <div
                                            class="card border-2 border-slate-300 shadow-lg rounded-lg"
                                        >
                                            <div
                                                class="p-2.5"
                                                style="height: 250px"
                                            >
                                                <img
                                                    :src="avatar.image"
                                                    @click="openModal(avatar)"
                                                    class="w-full h-full rounded-lg object-cover object-center cursor-pointer"
                                                    :alt="avatar.name"
                                                />
                                            </div>
                                            <div
                                                class="flex grow flex-col px-4 pb-5 pt-1 text-center sm:px-5"
                                            >
                                                <p
                                                    href="#"
                                                    x-text="avatar.name"
                                                    class="text-lg font-medium text-slate-700 hover:text-primary focus:text-primary dark:text-navy-100 dark:hover:text-accent-light dark:focus:text-accent-light"
                                                ></p>
                                                <!-- Location Selection -->
                                                <div
                                                    class="my-2 flex items-center space-x-3 text-xs"
                                                >
                                                    <div
                                                        class="h-px flex-1 bg-slate-200 dark:bg-navy-500"
                                                    ></div>
                                                </div>
                                                <div>
                                                    <label
                                                        class="inline-flex items-center space-x-2"
                                                    >
                                                        <input
                                                            class="form-radio is-outline size-5 rounded-full border-slate-400/70 bg-slate-100 before:!bg-warning checked:!border-warning hover:!border-warning focus:!border-warning dark:border-navy-500 dark:bg-navy-900"
                                                            name="selectedAvatar"
                                                            type="radio"
                                                            :value="avatar.name"
                                                        />
                                                        <p>Select Avatar</p>
                                                    </label>
                                                    <!-- <div class="mt-2"> -->
                                                    <div
                                                        x-show="avatar.locations.length > 0"
                                                        class="flex flex-wrap items-center justify-between place-contents-center gap-1 my-1"
                                                    >
                                                        <template
                                                            x-for="location in avatar.locations"
                                                            :key="location._id"
                                                        >
                                                            <div>
                                                                <div
                                                                    class="w-10 h-10 rounded-md flex-1 cursor-pointer mx-auto block w-full"
                                                                >
                                                                    <img
                                                                        :src="location.image"
                                                                        @click="openModal(location)"
                                                                        class="w-full h-full object-cover rounded-md"
                                                                        :alt="location.name"
                                                                    />
                                                                </div>

                                                                <div
                                                                    class="flex items-center justify-center gap-2 w-full"
                                                                >
                                                                    <label
                                                                        class="items-center space-x-1 mt-2"
                                                                    >
                                                                        <p
                                                                            class="text-xs text-center"
                                                                            x-text="location.name"
                                                                        >
                                                                            Flower
                                                                        </p>

                                                                        <input
                                                                            class="form-radio is-outline size-5 rounded-md border-slate-400/70 before:bg-primary checked:border-primary hover:border-primary focus:border-primary dark:border-navy-400 dark:before:bg-accent dark:hover:border-accent dark:focus:border-accent mr-2 inline-block"
                                                                            name="location_avatar"
                                                                            type="radio"
                                                                            :value="location.name"
                                                                        />
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </template>
                                                    </div>
                                                    <!-- </div> -->
                                                </div>
                                            </div>
                                        </div>
                                    </template>

                                    <!-- Modal -->
                                    <div
                                        x-show="showModal"
                                        class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
                                        style="display: none"
                                    >
                                        <div
                                            class="bg-white rounded-lg p-5 w-1/2"
                                            @click.away="closeModal"
                                        >
                                            <h2
                                                class="text-xl font-semibold mb-4 text-center"
                                                x-text="selectedAvatarLocations.name"
                                            >
                                                Location Image
                                            </h2>
                                            <div class="grid grid-cols-1 gap-4">
                                                <img
                                                    :src="selectedAvatarLocations.image"
                                                    :alt="location.name"
                                                    class="w-full object-cover rounded"
                                                />
                                                <p class="mt-2 text-center">
                                                    Location Image
                                                </p>
                                            </div>
                                            <div class="mt-5 text-right">
                                                <button
                                                    @click="closeModal"
                                                    class="bg-blue-500 text-white px-4 py-2 rounded"
                                                >
                                                    Close
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div
                                    class="h-px flex-1 bg-slate-200 dark:bg-navy-500"
                                ></div>
                                <br />
                                <div align="center">
                                    <button
                                        type="submit"
                                        class="btn border border-warning/30 bg-warning/10 font-medium text-warning hover:bg-warning/20 focus:bg-warning/20 active:bg-warning/25"
                                    >
                                        Submit Video
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <div
                    id="message"
                    class="text-center mt-3 text-slate-600 dark:text-navy-100"
                ></div>
                <div id="remainingCredits"></div>
                <!-- <div> -->
                <br /><br />
                <button id="toggleChatBtn" class="toggle-chat-btn w-full">
                    Click to chat with us
                </button>

                <div id="chatContainer" class="chat-container">
                    <div
                        id="tawkChatContainer"
                        style="height: 350px; width: 100%"
                    ></div>
                </div>
                <!-- </div> -->
                <!-- Start of Tawk.to Script -->
                <script type="text/javascript">
                    var Tawk_API = Tawk_API || {};
                    Tawk_LoadStart = new Date();
                    (function () {
                        var s1 = document.createElement('script'),
                            s0 = document.getElementsByTagName('script')[0];
                        s1.async = true;
                        s1.src =
                            'https://embed.tawk.to/66c15835146b7af4a43ba50d/1i5hk14f1';
                        s1.charset = 'UTF-8';
                        s1.setAttribute('crossorigin', '*');
                        s1.onload = function () {
                            Tawk_API.embedded = 'tawkChatContainer';
                        };
                        s0.parentNode.insertBefore(s1, s0);
                    })();
                </script>
                <!-- JavaScript for Chat Toggle -->
                <script>
                    const toggleChatBtn =
                        document.getElementById('toggleChatBtn');
                    const chatContainer =
                        document.getElementById('chatContainer');

                    toggleChatBtn.addEventListener('click', function () {
                        if (chatContainer.classList.contains('hidden')) {
                            chatContainer.classList.remove('hidden');
                            chatContainer.classList.add('expanded');
                            toggleChatBtn.textContent = 'Close Chat';
                        } else {
                            chatContainer.classList.remove('expanded');
                            chatContainer.classList.add('hidden');
                            toggleChatBtn.textContent = 'Click to chat with us';
                        }
                    });
                </script>
                <br />
                <div class="h-px flex-1 bg-slate-200 dark:bg-navy-500"></div>
                <br />
                <!-- Table Section -->
                <div class="flex flex-col">
                    <div
                        class="h-px flex-1 bg-slate-200 dark:bg-navy-500 mb-4"
                    ></div>
                    <h4
                        class="text-lg font-semibold text-slate-700 dark:text-navy-100 mb-2"
                    >
                        Output history:
                    </h4>
                    <div class="overflow-x-auto">
                        <table
                            class="min-w-full divide-y divide-slate-200 dark:divide-navy-500"
                        >
                            <thead class="bg-slate-200 dark:bg-navy-800">
                                <tr>
                                    <th
                                        class="whitespace-nowrap rounded-tl-lg px-3 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        #
                                    </th>
                                    <th
                                        class="whitespace-nowrap px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Video Thumbnail
                                    </th>
                                    <th
                                        class="whitespace-nowrap px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Project ID
                                    </th>
                                    <th
                                        class="whitespace-nowrap px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Date
                                    </th>
                                    <th
                                        class="whitespace-nowrap px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Status
                                    </th>
                                    <th
                                        class="whitespace-nowrap rounded-tr-lg px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Action
                                    </th>
                                    <th
                                        class="whitespace-nowrap px-4 py-2 text-left text-sm font-semibold uppercase text-slate-800 dark:text-navy-100"
                                    >
                                        Download
                                    </th>
                                </tr>
                            </thead>
                            <tbody
                                id="outputHistory"
                                class="bg-white divide-y divide-slate-200 dark:bg-navy-900 dark:divide-navy-500"
                            >
                                <!-- Table rows will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Modal Section -->
                <div
                    id="videoModal"
                    class="fixed inset-0 z-[100] hidden items-center justify-center bg-black bg-opacity-50"
                >
                    <div
                        class="bg-white dark:bg-navy-800 rounded-lg shadow-lg p-6 max-w-lg w-full relative"
                    >
                        <button
                            id="closeModal"
                            class="absolute top-4 right-4 text-gray-600 dark:text-gray-300"
                        >
                            <svg
                                class="w-6 h-6"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12"
                                />
                            </svg>
                        </button>
                        <h2
                            id="videoTitle"
                            class="text-xl font-semibold text-slate-800 dark:text-navy-100 mb-4"
                        ></h2>
                        <video
                            id="videoPlayer"
                            controls
                            class="w-full rounded-lg mb-4 bg-gray-800"
                        >
                            <source id="videoSource" type="video/mp4" />
                            Your browser does not support the video tag.
                        </video>
                        <a
                            id="downloadLink"
                            href="#"
                            class="btn bg-blue-500 text-white hover:bg-blue-600 focus:bg-blue-700 rounded-md px-4 py-2"
                            >Download</a
                        >
                    </div>
                </div>
            </main>
        </div>

        <div id="x-teleport-target"></div>
        <script>
            window.addEventListener('DOMContentLoaded', () => Alpine.start());
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Initialize FilePond for each file input
                const videoPond = FilePond.create(
                    document.querySelector('input[name="videoFiles"]')
                );
                const picturePond = FilePond.create(
                    document.querySelector('input[name="pictureFiles"]')
                );
                const audioPond = FilePond.create(
                    document.querySelector('input[name="audioFiles"]')
                );

                document
                    .getElementById('videoForm')
                    .addEventListener('submit', async function (event) {
                        event.preventDefault();

                        const messageDiv = document.getElementById('message');
                        const remainingCreditsDiv =
                            document.getElementById('remainingCredits');

                        // Display the "Submitting..." message
                        messageDiv.textContent = 'Submitting...';
                        messageDiv.style.color = 'blue';

                        // Access files from FilePond instances
                        const videoFiles = videoPond.getFiles();
                        const pictureFiles = picturePond.getFiles();
                        const audioFiles = audioPond.getFiles();

                        // Create a new FormData object
                        const formData = new FormData();

                        // Append video files
                        videoFiles.forEach((fileItem) => {
                            formData.append('videoFiles', fileItem.file);
                        });

                        // Append picture files
                        pictureFiles.forEach((fileItem) => {
                            formData.append('pictureFiles', fileItem.file);
                        });

                        // Append audio files
                        audioFiles.forEach((fileItem) => {
                            formData.append('audioFiles', fileItem.file);
                        });

                        // Append other form fields
                        const videoLinkInputs = document.querySelectorAll(
                            'input[name="videoLink[]"]'
                        );
                        const videoLinks = Array.from(videoLinkInputs).map(
                            (input) => (input ? input.value : '')
                        );
                        formData.append(
                            'videoLinks',
                            JSON.stringify(
                                videoLinks.filter((link) => link.trim() !== '')
                            )
                        );

                        // Get the selected avatar and location
                        const selectedAvatar = document.querySelector(
                            'input[name="selectedAvatar"]:checked'
                        );
                        const selectedLocation = document.querySelector(
                            'input[name="location_avatar"]:checked'
                        );

                        if (selectedAvatar) {
                            formData.append(
                                'selectedAvatar',
                                selectedAvatar.value
                            );
                        }

                        if (selectedLocation) {
                            formData.append(
                                'selectedLocation',
                                selectedLocation.value
                            );
                        }

                        // Get the page title
                        const pageTitle = document.title;

                        try {
                            const response = await axios.post(
                                '/submit-video',
                                formData,
                                {
                                    headers: {
                                        'Content-Type': 'multipart/form-data',
                                        'Page-Title': pageTitle, // Send the page title in headers
                                    },
                                }
                            );

                            console.log(response.data);
                            messageDiv.textContent =
                                'Video submitted successfully!';
                            messageDiv.style.color = 'green';
                            remainingCreditsDiv.textContent = `You have ${response.data.remainingCredits} ${pageTitle} submits left.`;
                            remainingCreditsDiv.style.color = 'blue';

                            // Clear the form fields
                            document.getElementById('videoForm').reset();

                            // Clear the FilePond instances
                            videoPond.removeFiles();
                            picturePond.removeFiles();
                            audioPond.removeFiles();
                        } catch (error) {
                            console.error(error);
                            if (
                                error.response &&
                                error.response.status === 403
                            ) {
                                // Display modal with message and link
                                showExhaustedCreditsModal(
                                    error.response.data.error
                                );
                            } else {
                                messageDiv.textContent =
                                    'An error occurred while submitting the video.';
                                messageDiv.style.color = 'red';
                            }
                        } finally {
                            // Clear the "Submitting..." message after 5 seconds
                            setTimeout(() => {
                                messageDiv.textContent = '';
                                remainingCreditsDiv.textContent = '';
                            }, 5000);
                        }
                    });
            });

            function showExhaustedCreditsModal(message) {
                // Create modal element
                const modal = document.createElement('div');
                modal.id = 'creditsModal';
                modal.style.position = 'fixed';
                modal.style.left = '50%';
                modal.style.top = '50%';
                modal.style.transform = 'translate(-50%, -50%)';
                modal.style.backgroundColor = '#fff';
                modal.style.padding = '20px';
                modal.style.boxShadow = '0px 0px 30px rgba(0, 0, 0, 0.1)';
                modal.style.borderRadius = '8px';
                modal.style.zIndex = '1000';
                modal.style.maxWidth = '400px';
                modal.style.width = '90%';
                modal.style.textAlign = 'center';
                modal.style.fontFamily = 'Arial, sans-serif';

                // Modal content
                const modalContent = `
                        <br><div style="font-size: 50px; color: #d9534f;">
                            
                        </div><br>
                        <h2 style="color: #333;">Oops!</h2><br>
                        <p style="color: #555;">${message}</p>
                        <p style="color: #555;">Please click <a href="/plans-billing.html" style="color: #007bff; text-decoration: none; font-weight: bold;">here</a> to upgrade and submit more videos.</p>
                       <br> <button onclick="closeExhaustedCreditsModal()" style="
                            background-color: #d9534f;
                            color: white;
                            padding: 12px 12px;
                            border: none;
                            border-radius: 5px;
                            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
                            font-weight: bold;
                            cursor: pointer;
                            transition: background-color 0.3s ease;
                            font-size: 16px;
                        ">Close</button>
                    `;

                modal.innerHTML = modalContent;

                // Append modal to body
                document.body.appendChild(modal);

                // Add overlay
                const overlay = document.createElement('div');
                overlay.id = 'modalOverlay';
                overlay.style.position = 'fixed';
                overlay.style.left = '0';
                overlay.style.top = '0';
                overlay.style.width = '100%';
                overlay.style.height = '100%';
                overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';
                overlay.style.zIndex = '999';
                document.body.appendChild(overlay);
            }

            function closeExhaustedCreditsModal() {
                const modal = document.getElementById('creditsModal');
                const overlay = document.getElementById('modalOverlay');
                if (modal) {
                    document.body.removeChild(modal);
                }
                if (overlay) {
                    document.body.removeChild(overlay);
                }
            }

            function deleteProject(projectId) {
                axios
                    .delete(`/api/project/${projectId}`)
                    .then((response) => {
                        //alert(response.data.message);
                        updateOutputHistory();
                    })
                    .catch((error) => {
                        console.error('Error deleting project:', error);
                        alert('Error deleting project: ' + error.message);
                    });
            }

            function updateOutputHistory() {
                axios
                    .get('/api/video-status')
                    .then((response) => {
                        const outputHistory =
                            document.getElementById('outputHistory');
                        outputHistory.innerHTML = ''; // Clear existing entries

                        response.data.forEach((video, index) => {
                            const row = document.createElement('tr');
                            row.className =
                                'border-b border-slate-200 dark:border-navy-500';

                            const thumbnail = video.thumbnail
                                ? `<img class="w-16 h-16 object-cover rounded-md" src="${video.thumbnail}" alt="thumbnail" />`
                                : '<img class="mask is-squircle" src="images/avatar/avatar-5.jpg" alt="avatar" />';

                            let statusBadge = video.status;

                            if (video.comment) {
                                statusBadge += ` - ${video.comment}`;
                            }

                            if (video.estimatedCompletionTime) {
                                const eta = new Date(
                                    video.estimatedCompletionTime
                                ).toLocaleString();
                                statusBadge += `<br>ETA: ${eta}`;
                            }

                            // Handling the download button
                            const downloadButton = `
                            <a href="${video.downloadLink || '#'}" 
                               class="btn bg-primary font-medium text-white hover:bg-primary-dark focus:bg-primary-dark active:bg-primary-darker"
                               ${
                                   video.downloadLink
                                       ? ''
                                       : 'style="opacity: 0.5; cursor: not-allowed;"'
                               }
                               ${
                                   video.downloadLink
                                       ? ''
                                       : 'aria-disabled="true"'
                               }
                               download>
                               Download
                            </a>`;

                            // Handling the watch button
                            const watchButton = `
                            <button 
                                id="openModal"
                                data-video-src="${video.downloadLink || '#'}"
                                data-video-title="${video.title || 'Untitled'}"
                                class="btn bg-primary font-medium text-white hover:bg-primary-dark focus:bg-primary-dark active:bg-primary-darker"
                                ${
                                    video.downloadLink
                                        ? ''
                                        : 'style="opacity: 0.5; cursor: not-allowed;"'
                                }
                                ${
                                    video.downloadLink
                                        ? ''
                                        : 'aria-disabled="true"'
                                }
                            >
                                Watch Video
                            </button>`;

                            row.innerHTML = `
                            <td class="whitespace-nowrap rounded-l-lg px-4 py-3 sm:px-5">${
                                index + 1
                            }</td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5"><div class="avatar size-24">${thumbnail}</div></td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5">${
                                video.id
                            }</td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5">${new Date(
                                video.createdAt
                            ).toLocaleDateString()}</td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5">${statusBadge}</td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5">
                                <button onclick="deleteProject('${
                                    video.id
                                }')" class="btn bg-slate-150 font-medium text-slate-800 hover:bg-slate-200 focus:bg-slate-200 active:bg-slate-200/80 dark:bg-navy-500 dark:text-navy-50 dark:hover:bg-success-450 dark:focus:bg-navy-450 dark:active:bg-success-450/90">Delete</button>
                                <br><br>
                                ${watchButton}
                            </td>
                            <td class="whitespace-nowrap px-4 py-3 sm:px-5">${downloadButton}</td>
                            `;

                            outputHistory.appendChild(row);
                        });
                    })
                    .catch((error) => {
                        console.error('Error fetching video status:', error);
                    });
            }
            updateOutputHistory();
            // Optionally, set an interval to periodically update the output history
            setInterval(updateOutputHistory, 5000); // Update every 3 seconds

            document.addEventListener('DOMContentLoaded', function () {
                // Fetch user info on page load
                axios
                    .get('/auth/me')
                    .then((response) => {
                        const data = response.data;
                        document.getElementById('user-name').textContent =
                            `${data.firstName} ${data.lastName}` || 'User Name';
                        document.getElementById('profile-picture').src =
                            data.profilePicture ||
                            'images/avatar/default-profile.png';
                        document.getElementById(
                            'subscription-plan'
                        ).textContent = data.subscriptionPlan || 'Free Plan';
                    })
                    .catch((error) =>
                        console.error('Error fetching user info:', error)
                    );

                // Logout functionality
                document
                    .getElementById('logout-button')
                    .addEventListener('click', function () {
                        axios
                            .post('/auth/logout')
                            .then((response) => {
                                if (response.status === 200) {
                                    window.location.href = 'index.html'; // Redirect to login page
                                } else {
                                    console.error('Logout failed');
                                }
                            })
                            .catch((error) =>
                                console.error('Error during logout:', error)
                            );
                    });
            });
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const modal = document.getElementById('videoModal');
                const videoPlayer = document.getElementById('videoPlayer');
                const videoSource = document.getElementById('videoSource');
                const videoTitle = document.getElementById('videoTitle');
                const downloadLink = document.getElementById('downloadLink');

                // Function to open the modal
                function openModal(videoSrc, title) {
                    videoSource.src = videoSrc;
                    videoPlayer.load(); // Reload video with new source
                    videoTitle.textContent = title;
                    downloadLink.href = videoSrc;
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                }

                // Function to close the modal
                function closeModal() {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }

                // Attach event listener to the modal close button
                const closeModalBtn = document.getElementById('closeModal');
                closeModalBtn.addEventListener('click', closeModal);

                // Close modal when clicking outside the modal content
                window.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal();
                    }
                });

                // Close modal on ESC key press
                window.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        closeModal();
                    }
                });

                // Attach event listener to each dynamically created open modal button
                document.addEventListener('click', function (e) {
                    if (e.target && e.target.id === 'openModal') {
                        const videoSrc =
                            e.target.getAttribute('data-video-src');
                        const title = e.target.getAttribute('data-video-title');
                        openModal(videoSrc, title);
                    }
                });
            });
        </script>
        <script>
            function addVideoLinkField() {
                const container = document.getElementById(
                    'videoLinksContainer'
                );
                const inputCount = container.querySelectorAll('input').length;
                if (inputCount < 5) {
                    const newInput = document.createElement('input');
                    newInput.className =
                        'form-input w-full rounded-lg border border-slate-300 bg-transparent px-3 py-2 placeholder:text-slate-400/70 hover:border-slate-400 focus:border-primary dark:border-navy-450 dark:hover:border-navy-400 dark:focus:border-accent mt-2';
                    newInput.placeholder = 'Add video link from internet';
                    newInput.name = 'videoLink[]';
                    newInput.type = 'text';
                    container.appendChild(newInput);
                } else {
                    alert('Maximum of 5 video links are allowed.');
                }
            }
        </script>
        <script>
            async function fetchAvatars() {
                const response = await fetch('/api/avatars');
                const avatars = await response.json();
                const container = document.getElementById('avatarContainer');

                container.innerHTML = ''; // Clear existing avatars

                avatars.forEach((avatar) => {
                    const card = document.createElement('div');
                    card.className =
                        'card border-2 border-slate-300 shadow-lg rounded-lg';
                    card.innerHTML = `
                        <div class="p-2.5">
                            <img src="${
                                avatar.image
                            }" class="w-full rounded-lg object-cover object-center" alt="Avatar ${
                        avatar.number
                    }" />
                        </div>
                        <div class="flex grow flex-col px-4 pb-5 pt-1 text-center sm:px-5">
                            <div class="mt-1">
                                <a href="#" class="text-lg font-medium text-slate-700 hover:text-primary focus:text-primary dark:text-navy-100 dark:hover:text-accent-light dark:focus:text-accent-light">Avatar ${
                                    avatar.number
                                }</a>
                            </div>
                            <div class="my-2 flex items-center space-x-3 text-xs">
                                <div class="h-px flex-1 bg-slate-200 dark:bg-navy-500"></div>
                            </div>
                            <div>
                                <label class="inline-flex items-center space-x-2">
                                    <input class="form-radio is-outline size-5 rounded-full border-slate-400/70 bg-slate-100" name="selectedAvatar" type="radio" value="avatar${
                                        avatar.number
                                    }" />
                                    <p>Select Avatar</p>
                                </label>
                                <div class="mt-2">
                                    <p>Choose Location</p>
                                    ${avatar.locations
                                        .map(
                                            (location) => `
                                        <label class="inline-flex items-center space-x-2">
                                            <input class="form-radio is-outline size-5 rounded-md border-slate-400/70" name="location_avatar" type="radio" value="${location}" />
                                            <p>${
                                                location
                                                    .charAt(0)
                                                    .toUpperCase() +
                                                location.slice(1)
                                            }</p>
                                        </label>
                                    `
                                        )
                                        .join('')}
                                </div>
                            </div>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }

            // fetchAvatars();
        </script>
        <script>
            async function showLocationImages(avatarId) {
                try {
                    // Fetch the avatar data
                    const response = await fetch(`/api/avatars/${avatarId}`);

                    // Check if the response is OK
                    if (!response.ok) {
                        console.error('Failed to fetch avatar data');
                        return;
                    }

                    const avatar = await response.json();

                    // Get the container element
                    const container = document.getElementById(
                        'locationImagesContainer'
                    );

                    // Clear previous images
                    container.innerHTML = '';

                    // Check if the avatar has locations
                    if (avatar.locations && Array.isArray(avatar.locations)) {
                        avatar.locations.forEach((location) => {
                            const img = document.createElement('img');
                            img.src = location.image;
                            img.alt = `${location.name} location`;
                            img.className = 'w-32 h-32 rounded-lg object-cover';

                            container.appendChild(img);
                        });
                    } else {
                        console.log('No locations found for this avatar');
                    }

                    // Make sure the container is visible
                    container.classList.remove('hidden');
                } catch (error) {
                    console.error(
                        'Error fetching or displaying images:',
                        error
                    );
                }
            }
        </script>
    </body>
</html>
