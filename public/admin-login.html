<!DOCTYPE html>
<html lang="en">
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="theme-style-mode" content="1" />

        <title>Sign In</title>
        <!-- Favicon -->
        <link
            rel="shortcut icon"
            type="image/x-icon"
            href="assets/images/logo/favicon.png"
        />
        <!-- CSS ============================================ -->
        <link rel="stylesheet" href="assets/css/vendor/bootstrap.min.css" />
        <link
            rel="stylesheet"
            href="assets/css/plugins/fontawesome-all.min.css"
        />
        <link rel="stylesheet" href="assets/css/plugins/feature.css" />
        <link rel="stylesheet" href="assets/css/plugins/animation.css" />
        <link rel="stylesheet" href="assets/css/plugins/slick.css" />
        <link rel="stylesheet" href="assets/css/plugins/slick-theme.css" />
        <link
            rel="stylesheet"
            href="assets/css/plugins/bootstrap-select.min.css"
        />
        <link rel="stylesheet" href="assets/css/plugins/prism.css" />
        <link rel="stylesheet" href="assets/css/style.css" />
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    </head>

    <body>
        <main class="page-wrapper">
            <!-- Start Sign up Area  -->
            <div class="signup-area">
                <div class="wrapper" align="center">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-lg-12 bg-color-blackest">
                                <div class="sign-up-box">
                                    <div class="signup-box-top">
                                        <img
                                            src="assets/images/logo/logo.png"
                                            alt="sign-up logo"
                                        />
                                       <br> 
                                    </div><h6>ADMIN DASHBOARD LOGIN</h2>
                                    <div class="signup-box-bottom">
                                        <div class="signup-box-content">
                                         
                                            <form id="admin-login-form">
                                                <label for="email">Email:</label>
                                                <input
                                                    type="email"
                                                    id="email"
                                                    name="email"
                                                    required
                                                    value="fake-user@mailinator.com"
                                                />
                                                <br /><br /><br />
                                                <label for="password">Password:</label>
                                                <input
                                                    type="password"
                                                    id="password"
                                                    name="password"
                                                    required
                                                    value="Test123"
                                                /><br /><br />
                                                <button type="submit">Login</button>
                                            </form>
        
                                            <div id="message"></div>
        
                                            
                                            <a
                                                class="close-button"
                                                href="index.html"
                                            >
                                                <i
                                                    class="fa-sharp fa-regular fa-x"
                                                ></i>
                                            </a>

                                            <!-- End Sign up Area  -->

                                            <!-- All Scripts  -->
                                            <div class="rbt-progress-parent">
                                                <svg
                                                    class="rbt-back-circle svg-inner"
                                                    width="100%"
                                                    height="100%"
                                                    viewBox="-1 -1 102 102"
                                                >
                                                    <path
                                                        d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"
                                                    />
                                                </svg>
                                            </div>

                                            <!-- JS
============================================ -->
                                            <script src="assets/js/vendor/modernizr.min.js"></script>
                                            <script src="assets/js/vendor/jquery.min.js"></script>
                                            <script src="assets/js/vendor/bootstrap.min.js"></script>
                                            <script src="assets/js/vendor/waypoint.min.js"></script>
                                            <script src="assets/js/vendor/wow.min.js"></script>
                                            <script src="assets/js/vendor/counterup.min.js"></script>
                                            <script src="assets/js/vendor/sal.min.js"></script>
                                            <script src="assets/js/vendor/slick.min.js"></script>
                                            <script src="assets/js/vendor/text-type.js"></script>
                                            <script src="assets/js/vendor/prism.js"></script>
                                            <script src="assets/js/vendor/jquery.style.swicher.js"></script>
                                            <script src="assets/js/vendor/bootstrap-select.min.js"></script>
                                            <script src="assets/js/vendor/backto-top.js"></script>

                                            <script src="assets/js/vendor/js.cookie.js"></script>
                                            <script src="assets/js/vendor/jquery-one-page-nav.js"></script>
                                            <!-- Main JS -->
                                            <script src="assets/js/main.js"></script>
    
                                    <script src="assets/js/main.js"></script>
                                    <script>
                                        // public/admin-login.js
                                        document
                                            .getElementById('admin-login-form')
                                            .addEventListener(
                                                'submit',
                                                async (event) => {
                                                    event.preventDefault();

                                                    const email =
                                                        document.getElementById(
                                                            'email'
                                                        ).value;
                                                    const password =
                                                        document.getElementById(
                                                            'password'
                                                        ).value;
                                                    const messageDiv =
                                                        document.getElementById(
                                                            'message'
                                                        );

                                                    try {
                                                        const response =
                                                            await axios.post(
                                                                '/auth/admin-login',
                                                                {
                                                                    email,
                                                                    password,
                                                                }
                                                            );

                                                        if (
                                                            response.status ===
                                                            200
                                                        ) {
                                                            messageDiv.textContent =
                                                                'Login successful';
                                                            messageDiv.style.color =
                                                                'green';
                                                            window.location.href =
                                                                '/admin-dashboard.html';
                                                        }
                                                    } catch (error) {
                                                        console.error(error);
                                                        if (
                                                            error.response &&
                                                            error.response.data
                                                        ) {
                                                            messageDiv.textContent =
                                                                error.response.data;
                                                        } else {
                                                            messageDiv.textContent =
                                                                'Error during login';
                                                        }
                                                        messageDiv.style.color =
                                                            'red';
                                                    }
                                                }
                                            );
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
